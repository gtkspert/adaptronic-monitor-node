
var str = [ 01, 03, 16, 00, 00, 04];
crc = 0;

crcCalc(str);



    function crcCalc(bytes) {
      var temp, temp2, flag;
      var crc;
      var i, j;

      crc = 0xFFFF;

      bytes.forEach(
        function (value) {

          crc = crc ^ value;

          for (i = 0; i < 8; i++) {
            flag = crc & 0x0001;
            crc = crc >> 1;
            if (flag ==1) {
              crc = crc ^ 0xA001;
            }
          }
        }
      );

      temp = crc >> 8;
      crc = (crc << 8) | temp;
      crc &= 0xFFFF;
      
      console.log(crc);

    }
